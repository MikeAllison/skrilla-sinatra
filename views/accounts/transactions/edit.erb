<div class="row">
  <div class="col">
    <form method="post">
      <div class="form-group">
        <label for="merchant">Merchant</label>
        <input type="text" class="form-control" id="merchant" name="merchant" aria-describedby="merchant" placeholder="<%= @transaction.merchant %>">
      </div>
      <div class="form-group">
        <label for="amount">Amount</label>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">$</span>
          </div>
          <input type="text" class="form-control" id="amount" name="amount" aria-label="Dollar amount (with dot and two decimal places)" placeholder="<%= to_currency(@transaction.amount) %>">
        </div>
        <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input" id="credit" name="credit">
          <label class="custom-control-label" for="credit">Credit</label>
        </div>
      </div>
      <div class="form-group">
        <label for="account">Account</label>
        <select class="form-control custom-select" id="account" name="account">
          <% @accounts.each do |account| %>
            <option value="<%= account.id %>"><%= account.name %></option>
          <% end %>
        </select>
      </div>
      <div class="form-group">
        <label for="date">Transaction Date</label>
        <input type="date" id="date" name="date" value="<%= @transaction.date %>">
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>
</div>

<script src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript">
  $(function() {
    if (<%= @transaction.credit? %> === true) {
      $('#credit').attr('checked', 'checked');
    }

    $('#account > option[value|=<%= @transaction.account_id %>]').attr('selected', 'selected');
  });
</script>